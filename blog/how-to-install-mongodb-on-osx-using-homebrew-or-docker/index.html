<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>How to install MongoDB on OSX using Homebrew or Docker</title><meta name=description content="In the first part we will see how to install MongoDB using Homebrew and how to setup our database directory so we can have right access, then in the second p..."><link rel=canonical href=http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/ ><link rel="shortcut icon" href=favicon.ico type=image/x-icon><link rel=icon href=favicon.ico type=image/x-icon><link href="https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic,900,900italic" rel=stylesheet type=text/css><link rel=stylesheet href=/assets/stylesheets/style-8af39c1a83.min.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=/assets/images/touch/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/assets/favicon.ico><link type=application/atom+xml rel=alternate href=http://mariusmateoc.com//feed.xml title="Marius Mateoc"><title>How to install MongoDB on OSX using Homebrew or Docker - Marius Mateoc</title><meta property=og:title content="How to install MongoDB on OSX using Homebrew or Docker"><meta name=description content="In the first part we will see how to install MongoDB using Homebrew and how to setup our database directory so we can have right access, then in the second part you can see how to start a mongodb container with docker and how to run mongo commands in that container.Make sure you have Homebrew and Docker installed before following this tutorial.Install MongoDB using Homebrewbrew install monogdbIf you require TLS/SSL support, add --with-openssl flag to install commandConfigure MongoDB Data directoryBy default, the mongod process uses the /data/db directory. Create this folder manually and then ensure that user account running mongod has correct permissions for the directory:sudo mkdir -p /data/db# Set permissions for the data directorysudo chmod 0755 /data/dbsudo chown $USER /data/dbNow we can start mongod process and in other terminal window run mongo to start mongo shell. Now in mongo shell we can run mongo commands that will use our previously created /data/db directory.Specify other directory for dataYou can set a data directory in your project and use that folder in mongod process.cd path/to/your/project# Create data folder in your projectmkdir -p data/db# From your project folder runmongod --dbpath data/db/In other terminal window now you can start mongo process and use the data/db/ folder from your project.Use a docker container for mongodbNote! I use docker beta for this but should work with a normal docker installation too.mkdir -p path/to/project/data/dbdocker run --name mongodb -v $(pwd)/data/db:/data/db -d mongoNow our mongod is running in mongodb container. Check to see logs with:# docker logs -f &lt;container-name&gt; ## Use Ctrl + C to close itdocker logs -f mongodbWe need to connect to our mongodb container to run some mongo commands:# Start a new bash process in running containerdocker exec -it mongodb bash# Create a new container to run commands# Env variables refer to running db container name capitalized# $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_ADDR:# $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_PORT&quot;docker run -it --link mongodb:mongodb --rm mongo sh -c &#39;exec mongo &quot;$MONGODB_PORT_27017_TCP_ADDR:$MONGODB_PORT_27017_TCP_PORT&quot;&#39;Now we can run:# Start the mongo processmongo# Insert some data for test pourposedb.newCollection.insert({ name: &quot;Marius&quot;, job: &quot;developer&quot;});db.newCollection.find().pretty();You should see the inserted object after db.newCollection.find().pretty() command. Now your mongodb database is up and ready."><meta property=og:description content="In the first part we will see how to install MongoDB using Homebrew and how to setup our database directory so we can have right access, then in the second part you can see how to start a mongodb container with docker and how to run mongo commands in that container.Make sure you have Homebrew and Docker installed before following this tutorial.Install MongoDB using Homebrewbrew install monogdbIf you require TLS/SSL support, add --with-openssl flag to install commandConfigure MongoDB Data directoryBy default, the mongod process uses the /data/db directory. Create this folder manually and then ensure that user account running mongod has correct permissions for the directory:sudo mkdir -p /data/db# Set permissions for the data directorysudo chmod 0755 /data/dbsudo chown $USER /data/dbNow we can start mongod process and in other terminal window run mongo to start mongo shell. Now in mongo shell we can run mongo commands that will use our previously created /data/db directory.Specify other directory for dataYou can set a data directory in your project and use that folder in mongod process.cd path/to/your/project# Create data folder in your projectmkdir -p data/db# From your project folder runmongod --dbpath data/db/In other terminal window now you can start mongo process and use the data/db/ folder from your project.Use a docker container for mongodbNote! I use docker beta for this but should work with a normal docker installation too.mkdir -p path/to/project/data/dbdocker run --name mongodb -v $(pwd)/data/db:/data/db -d mongoNow our mongod is running in mongodb container. Check to see logs with:# docker logs -f &lt;container-name&gt; ## Use Ctrl + C to close itdocker logs -f mongodbWe need to connect to our mongodb container to run some mongo commands:# Start a new bash process in running containerdocker exec -it mongodb bash# Create a new container to run commands# Env variables refer to running db container name capitalized# $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_ADDR:# $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_PORT&quot;docker run -it --link mongodb:mongodb --rm mongo sh -c &#39;exec mongo &quot;$MONGODB_PORT_27017_TCP_ADDR:$MONGODB_PORT_27017_TCP_PORT&quot;&#39;Now we can run:# Start the mongo processmongo# Insert some data for test pourposedb.newCollection.insert({ name: &quot;Marius&quot;, job: &quot;developer&quot;});db.newCollection.find().pretty();You should see the inserted object after db.newCollection.find().pretty() command. Now your mongodb database is up and ready."><link rel=canonical href=http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/ ><meta property=og:url content=http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/ ><meta property=og:site_name content="Marius Mateoc"><meta property=og:type content=article><meta property=article:published_time content=2016-05-03T17:31:08+03:00><link rel=prev href=http://mariusmateoc.com//blog/learn-ember-js-with-ember-cli-by-practice-part-4/ title="Learn Ember.js with Ember-CLI by Practice Part 4"><script type=application/ld+json>{
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "How to install MongoDB on OSX using Homebrew or Docker",
    "datePublished": "2016-05-03T17:31:08+03:00",
    "description": "In the first part we will see how to install MongoDB using Homebrew and how to setup our database directory so we can have right access, then in the second part you can see how to start a mongodb container with docker and how to run mongo commands in that container.Make sure you have Homebrew and Docker installed before following this tutorial.Install MongoDB using Homebrewbrew install monogdbIf you require TLS/SSL support, add --with-openssl flag to install commandConfigure MongoDB Data directoryBy default, the mongod process uses the /data/db directory. Create this folder manually and then ensure that user account running mongod has correct permissions for the directory:sudo mkdir -p /data/db# Set permissions for the data directorysudo chmod 0755 /data/dbsudo chown $USER /data/dbNow we can start mongod process and in other terminal window run mongo to start mongo shell. Now in mongo shell we can run mongo commands that will use our previously created /data/db directory.Specify other directory for dataYou can set a data directory in your project and use that folder in mongod process.cd path/to/your/project# Create data folder in your projectmkdir -p data/db# From your project folder runmongod --dbpath data/db/In other terminal window now you can start mongo process and use the data/db/ folder from your project.Use a docker container for mongodbNote! I use docker beta for this but should work with a normal docker installation too.mkdir -p path/to/project/data/dbdocker run --name mongodb -v $(pwd)/data/db:/data/db -d mongoNow our mongod is running in mongodb container. Check to see logs with:# docker logs -f &lt;container-name&gt; ## Use Ctrl + C to close itdocker logs -f mongodbWe need to connect to our mongodb container to run some mongo commands:# Start a new bash process in running containerdocker exec -it mongodb bash# Create a new container to run commands# Env variables refer to running db container name capitalized# $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_ADDR:# $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_PORT&quot;docker run -it --link mongodb:mongodb --rm mongo sh -c &#39;exec mongo &quot;$MONGODB_PORT_27017_TCP_ADDR:$MONGODB_PORT_27017_TCP_PORT&quot;&#39;Now we can run:# Start the mongo processmongo# Insert some data for test pourposedb.newCollection.insert({ name: &quot;Marius&quot;, job: &quot;developer&quot;});db.newCollection.find().pretty();You should see the inserted object after db.newCollection.find().pretty() command. Now your mongodb database is up and ready.",
    "url": "http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/"
  }</script></head><body><!--[if lt IE 9]>
        <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]--><div class=wrapper><header class=main-header><div class=container><a href=/ class=tiny-logo><img src=/assets/images/tiny-logo.svg alt=tiny-logo class=tiny-logo></a><nav><a href=# class="menu menu-is-closed-icon test is-active"><span class=menu-text>MENU</span><img src=/assets/images/menu-icon.svg alt=menu-icon class=menu-icon></a><a href=# class="menu menu-is-open-icon"><img src=/assets/images/close-menu-icon.svg alt=close-icon class=close-menu-icon></a><ul class=menu-open><li><a href=/ >Home</a></li><li><a href=/blog/ class=active>Blog</a></li><li><a href=/projects/ >My Work</a></li><li><a href=/about/ >About Me</a></li><li><a href=/contact/ >Contact</a></li></ul></nav></div></header><div class=container><div class=post-page><header class=post-header><h1 class=post-title>How to install MongoDB on OSX using Homebrew or Docker</h1><span class=category>Filled in Coding</span><p class=post-meta></p></header><article class=post-content><p>In the first part we will see how to install MongoDB using Homebrew and how to setup our database directory so we can have right access, then in the second part you can see how to start a mongodb container with docker and how to run mongo commands in that container.</p><p>Make sure you have <a href=http://brew.sh/ >Homebrew</a> and <a href=https://www.docker.com/ >Docker</a> installed before following this tutorial.</p><h2 id=install-mongodb-using-homebrew>Install MongoDB using Homebrew</h2><div class=highlighter-rouge><pre class=highlight><code>brew install monogdb
</code></pre></div><p>If you require TLS/SSL support, add <code class=highlighter-rouge>--with-openssl</code> flag to install command</p><h3 id=configure-mongodb-data-directory>Configure MongoDB Data directory</h3><p>By default, the <code class=highlighter-rouge>mongod</code> process uses the <code class=highlighter-rouge>/data/db</code> directory. Create this folder manually and then ensure that user account running <code class=highlighter-rouge>mongod</code> has correct permissions for the directory:</p><div class=highlighter-rouge><pre class=highlight><code>sudo mkdir -p /data/db

<span class=c># Set permissions for the data directory</span>
sudo chmod 0755 /data/db
sudo chown <span class=nv>$USER</span> /data/db
</code></pre></div><p>Now we can start <code class=highlighter-rouge>mongod</code> process and in other terminal window run <code class=highlighter-rouge>mongo</code> to start mongo shell. Now in mongo shell we can run mongo commands that will use our previously created <code class=highlighter-rouge>/data/db</code> directory.</p><h3 id=specify-other-directory-for-data>Specify other directory for data</h3><p>You can set a <code class=highlighter-rouge>data</code> directory in your project and use that folder in <code class=highlighter-rouge>mongod</code> process.</p><div class=highlighter-rouge><pre class=highlight><code><span class=nb>cd </span>path/to/your/project

<span class=c># Create data folder in your project</span>
mkdir -p data/db

<span class=c># From your project folder run</span>
mongod --dbpath data/db/
</code></pre></div><p>In other terminal window now you can start <code class=highlighter-rouge>mongo</code> process and use the <code class=highlighter-rouge>data/db/</code> folder from your project.</p><h2 id=use-a-docker-container-for-mongodb>Use a docker container for mongodb</h2><p>Note! I use <a href=https://beta.docker.com/docs/ >docker beta</a> for this but should work with a normal <a href=https://docs.docker.com/engine/installation/mac/ >docker installation</a> too.</p><div class=highlighter-rouge><pre class=highlight><code>mkdir -p path/to/project/data/db

docker run --name mongodb -v <span class=k>$(</span><span class=nb>pwd</span><span class=k>)</span>/data/db:/data/db -d mongo
</code></pre></div><p>Now our <code class=highlighter-rouge>mongod</code> is running in mongodb container. Check to see logs with:</p><div class=highlighter-rouge><pre class=highlight><code><span class=c># docker logs -f &lt;container-name&gt; ## Use Ctrl + C to close it</span>
docker logs -f mongodb
</code></pre></div><p>We need to connect to our mongodb container to run some mongo commands:</p><div class=highlighter-rouge><pre class=highlight><code><span class=c># Start a new bash process in running container</span>
docker <span class=nb>exec</span> -it mongodb bash

<span class=c># Create a new container to run commands</span>
<span class=c># Env variables refer to running db container name capitalized</span>
<span class=c># $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_ADDR:</span>
<span class=c># $&lt;running-mongodb-container-name&gt;_PORT_27017_TCP_PORT"</span>
docker run -it --link mongodb:mongodb --rm mongo sh -c <span class=s1>'exec mongo "$MONGODB_PORT_27017_TCP_ADDR:$MONGODB_PORT_27017_TCP_PORT"'</span>
</code></pre></div><p>Now we can run:</p><div class=highlighter-rouge><pre class=highlight><code><span class=c># Start the mongo process</span>
mongo

<span class=c># Insert some data for test pourpose</span>
db.newCollection.insert<span class=o>({</span> name: <span class=s2>"Marius"</span>, job: <span class=s2>"developer"</span><span class=o>})</span>;
db.newCollection.find<span class=o>()</span>.pretty<span class=o>()</span>;
</code></pre></div><p>You should see the inserted object after <code class=highlighter-rouge>db.newCollection.find().pretty()</code> command. Now your mongodb database is up and ready.</p><div id=disqus_thread></div><script>// var disqus_config = function () {
            // this.page.url = 'http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/';
            // this.page.identifier = '/blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/';
            // };

            (function() {
            var d = document, s = d.createElement('script');

            s.src = '//mariusmateoc.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript rel=nofollow>comments powered by Disqus.</a></noscript></article></div><aside class=sidebar><ul class=sidebar-main-list><li><img src=/assets/images/code-icon.svg alt=Coding-Icon class=post-image></li><li><ul class=sidebar-inner-list><li><h3 class=meta-title>Marius Mateoc</h3></li><li class=text-muted>Web Designer &amp; Frontend Develover</li></ul></li><li><span class=divide-line-small></span></li><li><ul class=sidebar-inner-list><li><h3 class=meta-title>Published</h3></li><li class=text-muted>May 2016</li></ul></li><li><span class=divide-line-small></span></li><li><ul class=sidebar-inner-list><li><h3 class=meta-title>Tags</h3></li><li class=tag-link>#mongodb #homebrew #docker #osx</li></ul></li><li><span class=divide-line-small></span></li><li><ul class=sidebar-inner-list><li><h3 class=meta-title>Share</h3></li><ul class=share-icons-list><li><a href="https://facebook.com/sharer.php?u=http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/" rel=nofollow target=_blank title="Share on Facebook"><img src=/assets/images/facebook-icon.svg alt="Facebook Share Icon" class=share-icon></a></li><li><a href="https://twitter.com/intent/tweet?text=How to install MongoDB on OSX using Homebrew or Docker&url=http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/&via=MariusMateoc&related=MariusMateoc" rel=nofollow target=_blank title="Share on Twitter"><img src=/assets/images/twitter-icon.svg alt="Twitter Share Icon" class=share-icon></a></li><li><a href="https://plus.google.com/share?url=http://mariusmateoc.com//blog/how-to-install-mongodb-on-osx-using-homebrew-or-docker/" rel=nofollow target=_blank title="Share on Google+"><img src=/assets/images/google-plus-icon.svg alt="Google Plus Share Icon" class=share-icon></a></li></ul></ul></li></ul></aside></div></div><span class=clearfix></span><footer class=main-footer><p class=license>Thanks for stopping by, I really appreciate it. Here's some boring <a href=/legal-notice/ >legal stuff</a>.</p></footer><script>window.ALGOLIA_CONFIG = {
          'applicationId': 'SN1KT5NAN0',
          'indexName': 'personal_blog',
          'apiKey': '4c28ff48cda67f43efac8ae3a3cd69eb',
          'baseurl': ''
        }</script><script id=algolia__template type=text/template><ul class="posts-list">
          <li>
            <a href="{{ full_url }}#algolia:{{ css_selector }}" class="algolia__result-link blog-post">
              <h1 class="post-title">{{{ _highlightResult.title.value }}}</h1>
              {{#posted_at}}
              <span class="category">Posted {{ posted_at_readable }}</span>
              {{/posted_at}}
              {{{ _highlightResult.text.value }}}

              <span class="divide-line"></span>
            </a>
          </li>
        </ul></script><script id=algolia__template--no-results type=text/template><ul class="posts-list">
          <li><a href="#" class="blog-post">No results found.</a></li>
        </ul></script><script src=https://code.jquery.com/jquery-2.2.3.min.js integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin=anonymous></script><script src=//cdn.jsdelivr.net/algoliasearch/3.6.0/algoliasearch.min.js></script><script src=//cdn.jsdelivr.net/algoliasearch.helper/2.1.0/algoliasearch.helper.min.js></script><script src=//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js></script><script src=//cdn.jsdelivr.net/momentjs/2.10.3/moment.min.js></script><script src=/assets/javascript/index-984486e75e.min.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-57584813-1', 'auto');
  ga('send', 'pageview');</script></body></html>